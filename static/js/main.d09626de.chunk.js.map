{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Loader/AppLoader.jsx","services/api.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleSubmit","e","preventDefault","trim","props","onSubmit","setState","toast","error","position","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","handleQueryChange","currentTarget","value","toLowerCase","this","className","s","SearchForm","type","SearchForm__button","SearchForm__label","SearchForm__input","autoComplete","autoFocus","placeholder","name","onChange","Component","modalRoot","document","getElementById","Modal","handleEscClose","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","modalSource","modalDescription","createPortal","Overlay","onClick","src","alt","ImageGalleryItem","showModal","toggleModal","source","description","id","dataOriginal","ImageGalleryItem__image","Button","children","AppLoader","loader","color","height","width","timeout","api","fetchImages","pageNumber","url","console","log","fetch","then","response","ok","json","data","catch","ImageGallery","hits","totalHits","loading","page","loadMore","prevState","prevProps","prevQuery","newQuery","prevPage","newPage","finally","map","webformatURL","tags","largeImageURL","length","App","handleFormSubmit","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d09626de.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2pCdy\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3LCjp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__brBQB\",\"Modal\":\"Modal_Modal__1owe2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1RP25\"};","import React, { Component } from 'react';\n\nimport s from 'components/Searchbar/Searchbar.module.css';\n\nimport PropTypes from 'prop-types';\n\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.searchQuery.trim() === '') {\n      toast.error('Please type the query', {\n        position: 'top-right',\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      return;\n    }\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n\n  handleQueryChange = e => {\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\n  };\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <>\n        <header className={s.Searchbar}>\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n            <button type=\"submit\" className={s.SearchForm__button}>\n              <span className={s.SearchForm__label}>Search</span>\n            </button>\n\n            <input\n              className={s.SearchForm__input}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              name=\"searchQuery\"\n              value={searchQuery}\n              onChange={this.handleQueryChange}\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport { Searchbar };\n","import React, { Component } from 'react';\n\nimport s from 'components/Modal/Modal.module.css';\n\nimport PropTypes from 'prop-types';\n\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.getElementById('modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEscClose);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleEscClose);\n  }\n\n  handleEscClose = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { modalSource, modalDescription } = this.props;\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\n        <div className={s.Modal}>\n          <img src={modalSource} alt={modalDescription} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  modalSource: PropTypes.string,\n  modalDescription: PropTypes.string,\n  onClose: PropTypes.func,\n};\n\nexport { Modal };\n","import React, { Component } from 'react';\n\nimport s from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\n\nimport PropTypes from 'prop-types';\n\nimport { Modal } from 'components/Modal/Modal';\n\nclass ImageGalleryItem extends Component {\n  state = { showModal: false };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  render() {\n    const { source, description, id, dataOriginal } = this.props;\n    const { showModal } = this.state;\n    return (\n      <>\n        <li key={id} className={s.ImageGalleryItem} onClick={this.toggleModal}>\n          <img\n            src={source}\n            alt={description}\n            className={s.ImageGalleryItem__image}\n          />\n        </li>\n        {showModal && (\n          <Modal\n            modalSource={dataOriginal}\n            modalDescription={description}\n            onClose={this.toggleModal}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nImageGalleryItem.propTypes = {\n  dataOriginal: PropTypes.string,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  source: PropTypes.string,\n  description: PropTypes.string,\n};\n\nexport { ImageGalleryItem };\n","import React from 'react';\nimport PropTypes, { any } from 'prop-types';\n\nimport s from 'components/Button/Button.module.css';\n\nconst Button = ({ children, onClick, id }) => (\n  <button id={id} type=\"button\" className={s.Button} onClick={onClick}>\n    {children}\n  </button>\n);\n\nButton.propTypes = {\n  children: PropTypes.any,\n  onClick: PropTypes.func,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\n\nexport { Button };\n","import React from 'react';\nimport s from 'components/ImageGallery/ImageGallery.module.css';\n\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n\nexport default function AppLoader() {\n  return (\n    <Loader\n      className={s.loader}\n      type=\"TailSpin\"\n      color=\"#3f51b5\"\n      height={80}\n      width={80}\n      timeout={3000}\n    />\n  );\n}\n","const API_KEY = '23531219-4793e7ad626a6d166b9f03b8c';\n\nconst api = {\n  async fetchImages(searchQuery, pageNumber) {\n    let url = `https://pixabay.com/api/?q=${searchQuery}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n    console.log(url);\n\n    return await fetch(url)\n      .then(response => {\n        if (response.ok) {\n          // console.log(response);\n          return response.json();\n        }\n      })\n      .then(data => {\n        // console.log(data.hits);\n\n        return data;\n      })\n      .catch(error => console.log(error));\n  },\n};\n\nexport default api;\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport s from 'components/ImageGallery/ImageGallery.module.css';\n\nimport { ImageGalleryItem } from 'components/ImageGalleryItem/ImageGalleryItem';\nimport { Button } from 'components/Button/Button';\nimport AppLoader from 'components/Loader/AppLoader';\nimport api from 'services/api';\n\nclass ImageGallery extends Component {\n  state = {\n    hits: [],\n    totalHits: '',\n    loading: false,\n    page: 1,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.searchQuery;\n    const newQuery = this.props.searchQuery;\n    const prevPage = prevState.page;\n    const newPage = this.state.page;\n\n    if (prevQuery !== newQuery) {\n      this.setState({ loading: true, hits: [], page: 1 });\n      api\n        .fetchImages(newQuery, newPage)\n        .then(({ totalHits, hits }) => this.setState({ totalHits, hits }))\n        .catch(error => console.log(error))\n        .finally(() => this.setState({ loading: false }));\n    }\n\n    if (prevPage !== newPage) {\n      api\n        .fetchImages(prevQuery, this.state.page)\n        .then(({ hits }) =>\n          this.setState(prevState => ({\n            hits: [...prevState.hits, ...hits],\n          })),\n        )\n        .catch(error => console.log(error));\n    }\n  }\n\n  loadMore = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { hits, loading, totalHits } = this.state;\n    return (\n      <>\n        {loading && <AppLoader />}\n        {totalHits === 0 && (\n          <div>Nothing was found on {this.props.searchQuery}</div>\n        )}\n        <ul className={s.ImageGallery}>\n          {hits.map(({ id, webformatURL, tags, largeImageURL }) => (\n            <ImageGalleryItem\n              key={id}\n              source={webformatURL}\n              description={tags}\n              dataOriginal={largeImageURL}\n            />\n          ))}\n        </ul>\n\n        {hits.length > 0 && (\n          <Button id=\"loadmore\" onClick={this.loadMore}>\n            Load more\n          </Button>\n        )}\n      </>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  searchQuery: PropTypes.string,\n};\n\nexport { ImageGallery };\n","import './App.css';\n\nimport React, { Component } from 'react';\n\nimport { Searchbar } from 'components/Searchbar/Searchbar';\nimport { ImageGallery } from 'components/ImageGallery/ImageGallery';\nimport { ToastContainer } from 'react-toastify';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n  };\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n    console.log(searchQuery);\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchQuery={searchQuery} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3MQtz\",\"SearchForm\":\"Searchbar_SearchForm__2NGHZ\",\"SearchForm__button\":\"Searchbar_SearchForm__button__2LeI-\",\"SearchForm__label\":\"Searchbar_SearchForm__label__2J-gj\",\"SearchForm__input\":\"Searchbar_SearchForm__input__OC25v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1iG4o\",\"loader\":\"ImageGallery_loader__2acFE\"};"],"sourceRoot":""}